import{m as N,b as S,u as U,r as o,j as e,l as w,h as j}from"./index-DQEpjoYT.js";import{a as D,u as q}from"./eventService-EKRWFlAY.js";function T(){const{id:n}=N(),E=S(),{t:a}=U(),[l,i]=o.useState(""),[c,u]=o.useState(""),[d,g]=o.useState(""),[p,f]=o.useState(""),[v,m]=o.useState(0),[y,h]=o.useState(""),[x,b]=o.useState("");o.useEffect(()=>{(async()=>{if(n)try{const s=await D(n);if(s){const r=s;i(r.title),u(r.date),g(r.description),f(r.imageUrl),m(r.capacity),h(r.location),b(r.category),w("Evento cargado para editar",r)}}catch(s){j("Error al cargar evento para editar",s)}})()},[n]);const C=async t=>{if(t.preventDefault(),!n)return;const s={title:l,date:c,description:d,imageUrl:p,capacity:v,location:y,category:x};try{await q(n,s),w("Evento actualizado",{id:n,...s}),E("/admin")}catch(r){j("Error al actualizar evento",r),alert("No se pudo actualizar el evento.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:e.jsxs("form",{onSubmit:C,className:"bg-white shadow-lg rounded-xl p-8 w-full max-w-2xl",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:a("eventEdit.title")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:a("eventCreate.fields.title"),className:"p-3 border border-gray-300 rounded w-full focus:outline-none focus:ring-2 focus:ring-yellow-400",value:l,onChange:t=>i(t.target.value),required:!0}),e.jsx("input",{type:"date",className:"p-3 border border-gray-300 rounded w-full focus:outline-none focus:ring-2 focus:ring-yellow-400",value:c,onChange:t=>u(t.target.value),required:!0}),e.jsx("input",{type:"text",placeholder:a("eventCreate.fields.location"),className:"p-3 border border-gray-300 rounded w-full focus:outline-none focus:ring-2 focus:ring-yellow-400",value:y,onChange:t=>h(t.target.value)}),e.jsxs("select",{className:"p-3 border border-gray-300 rounded w-full focus:outline-none focus:ring-2 focus:ring-yellow-400",value:x,onChange:t=>b(t.target.value),required:!0,children:[e.jsx("option",{value:"",children:a("eventCreate.fields.selectCategory")}),e.jsxs("option",{value:"música",children:["🎵 ",a("categories.music")]}),e.jsxs("option",{value:"tecnología",children:["💻 ",a("categories.tech")]}),e.jsxs("option",{value:"arte",children:["🎨 ",a("categories.art")]}),e.jsxs("option",{value:"deporte",children:["🏅 ",a("categories.sports")]})]}),e.jsx("input",{type:"url",placeholder:a("eventCreate.fields.imageUrl"),className:"p-3 border border-gray-300 rounded w-full focus:outline-none focus:ring-2 focus:ring-yellow-400",value:p,onChange:t=>f(t.target.value)}),e.jsx("input",{type:"number",placeholder:a("eventCreate.fields.capacity"),className:"p-3 border border-gray-300 rounded w-full focus:outline-none focus:ring-2 focus:ring-yellow-400",value:v,onChange:t=>m(Number(t.target.value))})]}),e.jsx("textarea",{placeholder:a("eventCreate.fields.description"),className:"w-full mt-4 p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-yellow-400",value:d,onChange:t=>g(t.target.value),rows:4}),e.jsx("button",{type:"submit",className:"w-full mt-6 bg-yellow-500 text-white py-3 rounded font-semibold hover:bg-yellow-600 transition",children:a("eventEdit.save")})]})})}export{T as default};
