import{r as n,a as w,b as v,u as y,j as e,l as g,s as j,c as E,d as N,e as S,g as C,f as D,h as I}from"./index-CEgrzZhI.js";function P(){const[r,m]=n.useState(""),[i,b]=n.useState(""),[l,u]=n.useState(""),p=w(),h=v(),{t:a}=y(),x=async s=>{s.preventDefault(),u("");try{g("Intento de login iniciado",{email:r});const t=await j(E,r,i),f=N(S,"users",t.user.uid),d=await C(f),o=d.exists()?d.data().role:"user",c={uid:t.user.uid,email:t.user.email};p(D({user:c,role:o})),g("Login exitoso",{uid:c.uid,role:o}),h(o==="admin"?"/gestor-eventos/admin":"/gestor-eventos")}catch(t){I("Error en login",{email:r,message:t.message}),u("Credenciales invÃ¡lidas o error en el servidor.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:e.jsxs("form",{onSubmit:x,className:"bg-white shadow-lg rounded-lg p-8 w-full max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:a("button.login")}),l&&e.jsx("div",{className:"bg-red-100 text-red-700 px-4 py-2 rounded mb-4 text-sm",children:l}),e.jsx("input",{type:"email",placeholder:a("login.placeholderEmail"),value:r,onChange:s=>m(s.target.value),className:"w-full mb-4 p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0}),e.jsx("input",{type:"password",placeholder:a("login.placeholderPassword"),value:i,onChange:s=>b(s.target.value),className:"w-full mb-6 p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-semibold py-3 rounded hover:bg-blue-700 transition",children:a("button.enter")})]})})}export{P as default};
