import{r as a,u as S,j as e,L}from"./index-BmZODc_i.js";import{g as B}from"./eventService-CX2YZClK.js";function R(){const[p,F]=a.useState([]),[f,b]=a.useState([]),[j,y]=a.useState(""),[i,v]=a.useState(""),[d,N]=a.useState(""),[o,w]=a.useState("date"),[m,C]=a.useState("asc"),[x,D]=a.useState(""),{t:s}=S();a.useEffect(()=>{B().then(t=>{F(t),b(t)})},[]),a.useEffect(()=>{let t=p.filter(l=>{const h=l.title.toLowerCase().includes(j.toLowerCase()),r=new Date(l.date),c=i?new Date(i):null,n=d?new Date(d):null,u=(!c||r>=c)&&(!n||r<=n),g=x?l.category===x:!0;return h&&u&&g});t=t.sort((l,h)=>{var n,u,g,E;const r=((u=(n=l[o]).toLowerCase)==null?void 0:u.call(n))||l[o],c=((E=(g=h[o]).toLowerCase)==null?void 0:E.call(g))||h[o];return r<c?m==="asc"?-1:1:r>c?m==="asc"?1:-1:0}),b(t)},[j,i,d,x,o,m,p]);const k=()=>{y(""),v(""),N(""),D(""),w("date"),C("asc")};return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:s("home.availableEvents")}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("aside",{className:"lg:w-1/4 bg-white rounded-xl shadow p-6 space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:s("home.filters")}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:s("home.searchLabel")}),e.jsx("input",{type:"text",value:j,onChange:t=>y(t.target.value),className:"w-full p-2 border rounded",placeholder:s("home.palaceholderFind")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:s("home.dateFrom")}),e.jsx("input",{type:"date",value:i,onChange:t=>v(t.target.value),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:s("home.dateTo")}),e.jsx("input",{type:"date",value:d,onChange:t=>N(t.target.value),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:s("home.category")}),e.jsxs("select",{value:x,onChange:t=>D(t.target.value),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"",children:s("home.category.all")}),e.jsx("option",{value:"música",children:s("home.category.music")}),e.jsx("option",{value:"tecnología",children:s("home.category.tech")}),e.jsx("option",{value:"arte",children:s("home.category.art")}),e.jsx("option",{value:"deporte",children:s("home.category.sport")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:s("home.sortBy")}),e.jsxs("select",{value:o,onChange:t=>w(t.target.value),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"title",children:s("home.sortBy.title")}),e.jsx("option",{value:"date",children:s("home.sortBy.date")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:s("home.sortDirection")}),e.jsxs("select",{value:m,onChange:t=>C(t.target.value),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"asc",children:s("home.sortDirection.asc")}),e.jsx("option",{value:"desc",children:s("home.sortDirection.desc")})]})]}),e.jsx("button",{onClick:k,className:"w-full mt-2 bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 rounded",children:s("home.resetFilters")})]}),e.jsx("section",{className:"flex-1",children:f.length===0?e.jsx("p",{className:"text-center text-gray-500",children:s("home.noEventsFound")}):e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(t=>{var l;return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden flex flex-col",children:[t.imageUrl&&e.jsx("img",{src:t.imageUrl,alt:t.title,className:"h-48 w-full object-cover"}),e.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:t.title}),e.jsx("p",{className:"text-sm text-gray-500",children:t.date}),e.jsxs("p",{className:"text-gray-700 mt-2 flex-1",children:[(l=t.description)==null?void 0:l.slice(0,100),"..."]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s("home.event.locationAndCategory",{location:t.location,category:t.category})}),e.jsx(L,{to:`/gestor-eventos/event/${t.id}`,className:"mt-4 inline-block text-center bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition",children:s("home.viewDetails")})]})]},t.id)})})})]})]})}export{R as default};
