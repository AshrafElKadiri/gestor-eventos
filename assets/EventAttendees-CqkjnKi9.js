import{m as x,r as l,u as h,j as e}from"./index-D90Y9WJY.js";import{b as p}from"./eventService-Cb_TB4Ea.js";function u(){const{id:s}=x(),[o,i]=l.useState([]),{t}=h();l.useEffect(()=>{s&&p(s).then(i)},[s]);const m=()=>{const n="data:text/csv;charset=utf-8,"+[["Email","Fecha de registro"],...o.map(r=>{var d;return[r.email,new Date(((d=r.timestamp)==null?void 0:d.seconds)*1e3).toLocaleString()]})].map(r=>r.join(",")).join(`
`),c=document.createElement("a");c.href=encodeURI(n),c.download=`inscritos_evento_${s}.csv`,c.click()};return e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:t("attendees.title")}),o.length===0?e.jsx("p",{children:t("attendees.noRecords")}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:m,className:"mb-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:t("attendees.export")}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-4 py-2 text-left",children:t("attendees.email")}),e.jsx("th",{className:"border px-4 py-2 text-left",children:t("attendees.date")})]})}),e.jsx("tbody",{children:o.map(a=>{var n;return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"border px-4 py-2",children:a.email}),e.jsx("td",{className:"border px-4 py-2",children:new Date(((n=a.timestamp)==null?void 0:n.seconds)*1e3).toLocaleString()})]},a.id)})})]})})]})]})}export{u as default};
